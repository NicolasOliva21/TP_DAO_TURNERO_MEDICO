<div class="card">
  <table class="table">
    <thead>
      <tr>
        <th>Nombre</th><th>Apellido</th><th>DNI</th><th>Email</th><th>Tel√©fono</th><th>Estado</th><th></th>
      </tr>
    </thead>
    <tbody>
      {% for p in pacientes %}
      <tr>
        <td>{{ p.nombre }}</td>
        <td>{{ p.apellido }}</td>
        <td>{{ p.dni }}</td>
        <td>{{ p.email }}</td>
        <td>{{ p.telefono }}</td>
        <td>{% if p.activo %}<span class="badge badge-success">Activo</span>{% else %}<span class="badge badge-muted">Inactivo</span>{% endif %}</td>
        <td class="text-right">
          <button class="btn" hx-post="/pacientes/toggle/{{ p.id }}" hx-vals='{"activo":"{{ "false" if p.activo else "true" }}"}'
                  hx-target="#patients-table" hx-swap="outerHTML"> {{ "Desactivar" if p.activo else "Activar" }} </button>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="7" class="text-center text-slate-500 py-6">Sin datos</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
